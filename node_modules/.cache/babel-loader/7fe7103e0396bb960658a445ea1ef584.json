{"ast":null,"code":"import _classCallCheck from \"/Users/c/Desktop/project_4/project4_frontend/project_4_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/c/Desktop/project_4/project4_frontend/project_4_frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/c/Desktop/project_4/project4_frontend/project_4_frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/c/Desktop/project_4/project4_frontend/project_4_frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/c/Desktop/project_4/project4_frontend/project_4_frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/c/Desktop/project_4/project4_frontend/project_4_frontend/src/components/UserPosts.js\";\nimport React, { Component } from 'react';\nimport Auth from '../modules/Auth.js';\n\nvar UserPost =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserPost, _Component);\n\n  function UserPost(props) {\n    var _this;\n\n    _classCallCheck(this, UserPost);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserPost).call(this, props));\n\n    _this.deletePost = function (index) {\n      fetch('http://localhost:3000/' + taskId, {\n        method: \"DELETE\"\n      }).then(function (data) {\n        _this.removeFromArray(currentArray, arrayIndex);\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.state = {\n      myPosts: []\n    };\n    return _this;\n  }\n\n  _createClass(UserPost, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch('http://localhost:3000/profile', {\n        method: 'GET',\n        headers: {\n          token: Auth.getToken(),\n          'Authorization': \"Token \".concat(Auth.getToken())\n        }\n      }).then(function (res) {\n        res.json().then(function (data) {\n          _this2.setState({\n            myPosts: data.posts\n          });\n        }, function (err) {\n          console.log(err);\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(React.Fragment, null, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \"Your Posts\"), this.state.myPosts.map(function (post, index) {\n        return React.createElement(\"div\", {\n          key: post.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, post.title), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, post.info), React.createElement(\"button\", {\n          onClick: function onClick() {\n            _this3.deletePost(index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, \" delete\"));\n      }));\n    }\n  }]);\n\n  return UserPost;\n}(Component);\n\nexport default UserPost;","map":{"version":3,"sources":["/Users/c/Desktop/project_4/project4_frontend/project_4_frontend/src/components/UserPosts.js"],"names":["React","Component","Auth","UserPost","props","deletePost","index","fetch","taskId","method","then","data","removeFromArray","currentArray","arrayIndex","catch","err","console","log","state","myPosts","headers","token","getToken","res","json","setState","posts","map","post","id","title","info"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,oBAAjB;;IAEMC,Q;;;;;AACJ,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,kFAAMA,KAAN;;AADiB,UAuBnBC,UAvBmB,GAuBN,UAACC,KAAD,EAAW;AACtBC,MAAAA,KAAK,CAAC,2BAA0BC,MAA3B,EAAkC;AACrCC,QAAAA,MAAM,EAAC;AAD8B,OAAlC,CAAL,CAEGC,IAFH,CAEQ,UAAAC,IAAI,EAAE;AACZ,cAAKC,eAAL,CAAqBC,YAArB,EAAkCC,UAAlC;AACD,OAJD,EAIGC,KAJH,CAIS,UAAAC,GAAG;AAAA,eAAEC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAF;AAAA,OAJZ;AAKD,KA7BkB;;AAEjB,UAAKG,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE;AADE,KAAb;AAFiB;AAKlB;;;;wCACkB;AAAA;;AACjBb,MAAAA,KAAK,CAAC,+BAAD,EAAiC;AACpCE,QAAAA,MAAM,EAAC,KAD6B;AAEpCY,QAAAA,OAAO,EAAC;AACNC,UAAAA,KAAK,EAAEpB,IAAI,CAACqB,QAAL,EADD;AAEN,2CAA0BrB,IAAI,CAACqB,QAAL,EAA1B;AAFM;AAF4B,OAAjC,CAAL,CAOCb,IAPD,CAOM,UAACc,GAAD,EAAS;AACbA,QAAAA,GAAG,CAACC,IAAJ,GACCf,IADD,CACM,UAACC,IAAD,EAAU;AACd,UAAA,MAAI,CAACe,QAAL,CAAc;AAACN,YAAAA,OAAO,EAACT,IAAI,CAACgB;AAAd,WAAd;AACD,SAHD,EAGE,UAACX,GAAD,EAAS;AACTC,UAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,SALD;AAMD,OAdD;AAeD;;;6BAUO;AAAA;;AACN,aACE,0CACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA,EAEC,KAAKG,KAAL,CAAWC,OAAX,CAAmBQ,GAAnB,CAAuB,UAACC,IAAD,EAAMvB,KAAN,EAAgB;AACtC,eACE;AAAK,UAAA,GAAG,EAAEuB,IAAI,CAACC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKD,IAAI,CAACE,KAAV,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAIF,IAAI,CAACG,IAAT,CAFF,EAGE;AAAQ,UAAA,OAAO,EAAI,mBAAM;AACvB,YAAA,MAAI,CAAC3B,UAAL,CAAgBC,KAAhB;AACD,WAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHF,CADF;AAUD,OAXA,CAFD,CADF;AAiBD;;;;EAnDoBL,S;;AAsDvB,eAAeE,QAAf","sourcesContent":["import React, { Component } from 'react';\nimport Auth from '../modules/Auth.js'\n\nclass UserPost extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      myPosts: []\n    }\n  }\n  componentDidMount(){\n    fetch('http://localhost:3000/profile',{\n      method:'GET',\n      headers:{\n        token: Auth.getToken(),\n        'Authorization': `Token ${Auth.getToken()}`\n      }\n    })\n    .then((res) => {\n      res.json()\n      .then((data) => {\n        this.setState({myPosts:data.posts})\n      },(err) => {\n        console.log(err);\n      })\n    })\n  }\n  deletePost = (index) => {\n    fetch('http://localhost:3000/' +taskId,{\n      method:\"DELETE\"\n    }).then(data=>{\n      this.removeFromArray(currentArray,arrayIndex)\n    }).catch(err=>console.log(err))\n  }\n  \n\n  render(){\n    return(\n      <>\n      <h2>Your Posts</h2>\n      {this.state.myPosts.map((post,index) => {\n        return(\n          <div key={post.id}>\n            <h2>{post.title}</h2>\n            <p>{post.info}</p>\n            <button onClick = {() => {\n              this.deletePost(index)\n            }}> delete\n            </button>\n          </div>\n        )\n      })}\n      </>\n    )\n  }\n}\n\nexport default UserPost;\n"]},"metadata":{},"sourceType":"module"}