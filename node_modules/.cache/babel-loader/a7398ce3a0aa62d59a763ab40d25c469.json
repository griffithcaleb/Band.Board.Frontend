{"ast":null,"code":"import _classCallCheck from \"/Users/c/Desktop/project_4/project4_frontend/project_4_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/c/Desktop/project_4/project4_frontend/project_4_frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/c/Desktop/project_4/project4_frontend/project_4_frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/c/Desktop/project_4/project4_frontend/project_4_frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/c/Desktop/project_4/project4_frontend/project_4_frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/c/Desktop/project_4/project4_frontend/project_4_frontend/src/App.js\";\nimport React, { Component } from 'react';\nimport Auth from './modules/Auth';\nimport Nav from './components/Nav';\nimport SignUp from './components/SignUp';\nimport Login from './components/Login';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.signUp = function (e, data) {\n      e.preventDefault();\n      fetch('http://localhost:3000/users', {\n        method: 'POST',\n        body: JSON.stringify({\n          user: data\n        }),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json'\n        }\n      }).then(function (res) {\n        res.json().then(function (data) {\n          Auth.authenticateToken(data.token); // this.setState({\n          //   auth: Auth.isUserAuthenticated()\n          // })\n        }, function (err) {\n          console.log(err);\n        });\n      });\n    };\n\n    _this.login = function (e, data) {\n      e.preventDefault();\n      fetch('http://localhost:3000/login', {\n        method: 'POST',\n        body: JSON.stringify(data),\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json'\n        }\n      }).then(function (res) {\n        res.json().then(function (data) {\n          Auth.authenticateToken(data.token);\n\n          if (data.errors) {\n            console.log(\"invalid\");\n          } else {\n            _this.checkLogin();\n          }\n        }, function (err) {\n          console.log(err);\n        });\n      });\n    };\n\n    _this.checkLogin = function () {\n      _this.setState({\n        auth: Auth.isUserAuthenticated()\n      });\n    };\n\n    _this.state = {\n      auth: Auth.isUserAuthenticated()\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, this.state.auth ? React.createElement(Nav, {\n        logState: this.checkLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(SignUp, {\n        signUp: this.signUp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), React.createElement(Login, {\n        login: this.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/c/Desktop/project_4/project4_frontend/project_4_frontend/src/App.js"],"names":["React","Component","Auth","Nav","SignUp","Login","App","props","signUp","e","data","preventDefault","fetch","method","body","JSON","stringify","user","headers","then","res","json","authenticateToken","token","err","console","log","login","errors","checkLogin","setState","auth","isUserAuthenticated","state"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Auth from './modules/Auth'\nimport Nav from './components/Nav'\nimport SignUp from './components/SignUp'\nimport Login from './components/Login'\n\nclass App extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      auth: Auth.isUserAuthenticated()\n    }\n  }\n\n  signUp = (e,data) => {\n    e.preventDefault()\n    fetch('http://localhost:3000/users',{\n      method:'POST',\n      body: JSON.stringify({user: data}),\n      headers:{\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      }\n    })\n    .then((res) => {\n      res.json()\n      .then((data) => {\n        Auth.authenticateToken(data.token)\n        // this.setState({\n        //   auth: Auth.isUserAuthenticated()\n        // })\n      },(err) => {\n        console.log(err);\n      })\n    })\n  }\n\n  login = (e, data) => {\n    e.preventDefault()\n    fetch('http://localhost:3000/login',{\n      method:'POST',\n      body:JSON.stringify(data),\n      headers:{\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      }\n    }).then((res) => {\n      res.json()\n      .then((data) => {\n        Auth.authenticateToken(data.token)\n        if(data.errors){\n          console.log(\"invalid\");\n        }else{\n          this.checkLogin()\n        }\n      },(err) => {\n        console.log(err);\n      })\n    })\n  }\n\n  checkLogin = () => {\n    this.setState({auth: Auth.isUserAuthenticated()})\n  }\n\n  render() {\n    return (\n      <div>\n      {this.state.auth? <Nav logState={this.checkLogin}/>:\n        <div>\n          <SignUp signUp={this.signUp}/>\n          <Login login={this.login}/>\n        </div>\n       }\n      </div>\n\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}