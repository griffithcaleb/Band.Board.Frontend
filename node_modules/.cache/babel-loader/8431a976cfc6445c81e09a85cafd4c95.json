{"ast":null,"code":"import _defineProperty from \"/Users/c/Desktop/project_4/project4_frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/c/Desktop/project_4/project4_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/c/Desktop/project_4/project4_frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/c/Desktop/project_4/project4_frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/c/Desktop/project_4/project4_frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/c/Desktop/project_4/project4_frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/c/Desktop/project_4/project4_frontend/src/components/Form.js\";\nimport React, { Component } from 'react';\nimport Auth from '../modules/Auth.js';\n\nvar Form =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Form, _Component);\n\n  function Form(props) {\n    var _this;\n\n    _classCallCheck(this, Form);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Form).call(this, props));\n\n    _this.showForm = function () {\n      _this.setState({\n        showForm: true\n      });\n    };\n\n    _this.hideForm = function () {\n      _this.setState({\n        showForm: false,\n        info: '',\n        number_of_likes: 0,\n        author: '',\n        title: ''\n      });\n    };\n\n    _this.handleChange = function (e) {\n      var _this$setState;\n\n      _this.setState((_this$setState = {}, _defineProperty(_this$setState, e.target.id, e.target.value), _defineProperty(_this$setState, \"view\", _this.props.view), _this$setState));\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      fetch('https://bandbandband.herokuapp.com/posts', {\n        body: JSON.stringify(_this.state),\n        method: \"POST\",\n        headers: {\n          token: Auth.getToken(),\n          'Authorization': \"Token \".concat(Auth.getToken()),\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json'\n        }\n      }).then(function (createdPost) {\n        return createdPost.json();\n      }).then(function (data) {\n        {\n          _this.props.updateArray(data);\n        }\n\n        _this.setState({\n          info: '',\n          title: '',\n          author: ''\n        });\n      });\n    };\n\n    _this.state = {\n      info: '',\n      number_of_likes: 0,\n      author: '',\n      title: '',\n      showForm: false\n    };\n    return _this;\n  }\n\n  _createClass(Form, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"createPost\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"addAPost\",\n        onClick: this.showForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Add a post \"), this.state.showForm ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: this.handleChange,\n        id: \"title\",\n        value: this.state.title,\n        type: \"text\",\n        placeholder: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(\"textarea\", {\n        cols: \"50\",\n        rows: \"15\",\n        onChange: this.handleChange,\n        id: \"info\",\n        value: this.state.info,\n        type: \"text\",\n        placeholder: \"your post here!\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        onChange: this.handleChange,\n        id: \"author\",\n        value: this.state.author,\n        type: \"text\",\n        placeholder: \"author\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        id: \"submit\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Post!\"), React.createElement(\"h5\", {\n        className: \"discardPost\",\n        onClick: this.hideForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"discard post\")))) : '');\n    }\n  }]);\n\n  return Form;\n}(Component);\n\nexport default Form;","map":{"version":3,"sources":["/Users/c/Desktop/project_4/project4_frontend/src/components/Form.js"],"names":["React","Component","Auth","Form","props","showForm","setState","hideForm","info","number_of_likes","author","title","handleChange","e","target","id","value","view","handleSubmit","preventDefault","fetch","body","JSON","stringify","state","method","headers","token","getToken","then","createdPost","json","data","updateArray"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport Auth from '../modules/Auth.js'\nclass Form extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      info: '',\n      number_of_likes: 0,\n      author: '',\n      title: '',\n      showForm: false\n\n\n    }\n  }\n  showForm = () => {\n    this.setState({\n      showForm: true\n    })\n  }\n  hideForm = () => {\n    this.setState({\n      showForm: false,\n      info: '',\n      number_of_likes: 0,\n      author: '',\n      title: '',\n    })\n  }\n\n  handleChange = (e) => {\n    this.setState({[e.target.id]:e.target.value,\n    view:this.props.view})\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault()\n    fetch('https://bandbandband.herokuapp.com/posts',{\n      body:JSON.stringify(this.state),\n      method: \"POST\",\n      headers:{\n      token: Auth.getToken(),\n      'Authorization': `Token ${Auth.getToken()}`,\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': 'application/json'\n    }\n    }).then(createdPost => {\n      return createdPost.json()\n    }).then(data => {\n       {this.props.updateArray(data)}\n       this.setState({\n         info:'',\n         title:'',\n         author:''\n       })\n\n    })\n  }\n\n  render(){\n    return(\n      <div  className = 'createPost'>\n      <h3 className=\"addAPost\" onClick={this.showForm}>Add a post </h3>\n      {this.state.showForm ?\n        <div>\n\n           <div className = 'form'>\n          <form onSubmit ={this.handleSubmit}>\n          <input\n          onChange ={this.handleChange}\n          id='title'\n          value = {this.state.title}\n          type = 'text'\n          placeholder = \"title\"\n          />\n          <textarea cols = \"50\" rows =\"15\"\n          onChange ={this.handleChange}\n          id='info'\n          value = {this.state.info}\n          type = 'text'\n          placeholder ='your post here!'\n          />\n          <input\n          onChange ={this.handleChange}\n          id='author'\n          value = {this.state.author}\n          type = 'text'\n          placeholder ='author'\n          />\n          <button id=\"submit\" type='submit'>Post!</button>\n          <h5 className = 'discardPost' onClick={this.hideForm}>discard post</h5>\n          </form>\n          </div>\n\n        </div> : ''}\n        </div>\n    )\n  }\n}\n\nexport default Form\n"]},"metadata":{},"sourceType":"module"}